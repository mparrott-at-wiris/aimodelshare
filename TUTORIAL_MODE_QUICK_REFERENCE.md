# Tutorial Mode - Quick Reference

## Tutorial Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Model Building Arena                      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. Model Strategy         [Interactive in Step 1+]   â”‚  â”‚
â”‚  â”‚    â—‹ The Balanced Generalist                          â”‚  â”‚
â”‚  â”‚    â—‹ The Rule-Maker                                   â”‚  â”‚
â”‚  â”‚    â—‹ The Deep Pattern-Finder                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2. Model Complexity       [Interactive in Step 2+]   â”‚  â”‚
â”‚  â”‚    â”œâ”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  (1-10)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 3. Data Ingredients       [Interactive in Step 3+]   â”‚  â”‚
â”‚  â”‚    â˜‘ Juvenile Felony Count                            â”‚  â”‚
â”‚  â”‚    â˜‘ Juvenile Misdemeanor Count                       â”‚  â”‚
â”‚  â”‚    â˜ Race                                             â”‚  â”‚
â”‚  â”‚    â˜ Age                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 4. Data Size              [Interactive in Step 4+]   â”‚  â”‚
â”‚  â”‚    â—‹ Small (20%)                                      â”‚  â”‚
â”‚  â”‚    â—‹ Medium (60%)                                     â”‚  â”‚
â”‚  â”‚    â—‹ Full (100%)                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [5. ğŸ”¬ Build & Submit Model] [Interactive in Step 5] â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [ğŸ§­ Start Guided Tutorial]  â† Click to start         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Tutorial Panel (hidden by default)                    â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ ### Step 1: Model Strategy                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Choose a model strategy that sets the 'brain'...  â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ [â—€ï¸ Back]  [Next â–¶ï¸]  [Exit Tutorial]           â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Step-by-Step Progression

### Step 1: Model Strategy
```
Interactive: [âœ“] Model Strategy
             [ ] Model Complexity
             [ ] Data Ingredients
             [ ] Data Size
             [ ] Submit Button

Message: "Choose a model strategy that sets the 'brain' of your system. 
         Try starting with 'The Balanced Generalist'."
```

### Step 2: Model Complexity
```
Interactive: [âœ“] Model Strategy
             [âœ“] Model Complexity
             [ ] Data Ingredients
             [ ] Data Size
             [ ] Submit Button

Message: "Adjust how deeply the model learns patterns. 
         Start low and increase gradually."
```

### Step 3: Data Ingredients
```
Interactive: [âœ“] Model Strategy
             [âœ“] Model Complexity
             [âœ“] Data Ingredients
             [ ] Data Size
             [ ] Submit Button

Message: "Select the inputs your model can use. Begin with behavioral 
         inputs; consider ethics when adding demographics."
```

### Step 4: Data Size
```
Interactive: [âœ“] Model Strategy
             [âœ“] Model Complexity
             [âœ“] Data Ingredients
             [âœ“] Data Size
             [ ] Submit Button

Message: "Pick how much historical data to train on. 'Small (20%)' is 
         fast for tests; 'Full (100%)' is strongest."
```

### Step 5: Build & Submit
```
Interactive: [âœ“] Model Strategy
             [âœ“] Model Complexity
             [âœ“] Data Ingredients
             [âœ“] Data Size
             [âœ“] Submit Button

Message: "You're ready! Click 'Build & Submit Model' to run your 
         first build."
```

## User Interactions

### Starting Tutorial
1. User clicks "ğŸ§­ Start Guided Tutorial"
2. Tutorial panel appears with Step 1 content
3. Login prompts hidden
4. Only Model Strategy control is interactive
5. All other controls disabled

### Navigating Tutorial
- **Next â–¶ï¸**: Advance to next step (max: Step 5)
- **â—€ï¸ Back**: Return to previous step (min: Step 1)
- **Exit Tutorial**: Close tutorial and restore normal mode

### Exiting Tutorial
1. User clicks "Exit Tutorial"
2. Tutorial panel disappears
3. `compute_rank_settings()` called to restore rank-based interactivity
4. Login prompts restored if user not authenticated
5. User's choices (model, complexity, features, size) preserved

## Code Locations

### UI Components
File: `aimodelshare/moral_compass/apps/model_building_app_en.py`
Lines: 3811-3829

### Helper Functions
File: `aimodelshare/moral_compass/apps/model_building_app_en.py`
Lines: 4093-4206

### Event Wiring
File: `aimodelshare/moral_compass/apps/model_building_app_en.py`
Lines: 4319-4341

### Unit Tests
File: `tests/test_tutorial_mode.py`
Lines: 1-123

## Testing Checklist

### Automated Tests âœ…
- [x] Syntax validation
- [x] Code review
- [x] Security scan (CodeQL)
- [x] Unit tests

### Manual Testing (Deploy to test)
- [ ] Click "Start Guided Tutorial"
- [ ] Verify tutorial panel appears
- [ ] Verify Step 1: only Model Strategy interactive
- [ ] Click "Next" â†’ Verify Step 2: Model Strategy + Complexity interactive
- [ ] Click "Next" â†’ Verify Step 3: + Data Ingredients interactive
- [ ] Click "Next" â†’ Verify Step 4: + Data Size interactive
- [ ] Click "Next" â†’ Verify Step 5: All controls + Submit interactive
- [ ] Click "Back" repeatedly â†’ Verify backward navigation
- [ ] Click "Exit Tutorial" â†’ Verify return to normal mode
- [ ] Verify login visibility based on auth state
- [ ] Complete full tutorial â†’ Submit first model â†’ Verify submission works

## Common Issues & Solutions

### Issue: Tutorial doesn't start
**Solution**: Check browser console for errors. Ensure all dependencies loaded.

### Issue: Controls don't become interactive
**Solution**: Verify `_tutorial_interact_for_step()` logic and state updates.

### Issue: Exit doesn't restore normal mode
**Solution**: Check `compute_rank_settings()` is being called correctly with current state.

### Issue: Login prompts not appearing after exit
**Solution**: Verify `username_state` and `token_state` values and authentication logic.

## Implementation Stats

- Total lines added: ~405
- Total files modified: 1
- Total files created: 2
- Functions added: 6
- Constants added: 1
- States added: 2
- UI components added: 5
- Event handlers added: 4
- Test functions: 5
- Documentation pages: 2
